<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"lang="en"> <![endif]--><!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"lang="en"> <![endif]--><!--[if IE 8]> <html class="no-js lt-ie9"lang="en"> <![endif]--><!--[if gt IE 8]><!--><html lang="en"class="gt-ie8"><!--<![endif]--><!--[if IE]><html xmlns="http://www.w3.org/1999/xhtml"xmlns:v><![endif]--><head><meta charset="utf-8"/><meta name="viewport"content="width=device-width"/><title></title> <link rel="icon"href="images/favicon/favicon.ico"><link rel="apple-touch-icon-precomposed"sizes="144x144"href="images/favicon/belkin_144.png"><link rel="apple-touch-icon-precomposed"sizes="114x114"href="images/favicon/belkin_114.png"><link rel="apple-touch-icon-precomposed"sizes="72x72"href="images/favicon/belkin_72.png"><link rel="apple-touch-icon-precomposed"href="images/favicon/belkin_57.png"><link rel="stylesheet"href="stylesheets/app.css?t=20140212"><!--[if lt IE 9]><link rel="stylesheet"href="stylesheets/ie.css"><![endif]--><!--[if IE]><?import namespace="v"implementation="#default#VML"?><![endif]--><script>var LangJ=["menulist","help","comm","wifi_apt"];var CGIs=["wifiap","lan"];</script><script src="javascripts/init.js"></script><script src="javascripts/jquery.min.js"></script><script src="javascripts/global.js"></script><script src="javascripts/app.js"></script><script src="javascripts/menu.js"></script></head><body style="display:none"id="mainbody"> <script><%CGI_INCLUDE(javascripts/main_header.js);%></script><script src="javascripts/routine.js"></script><div class="main container"> <div class="row"><div class="eight columns"><form class="nice"name="tF"method="post"action="/cgi-bin/setup_lan.exe"target="OUTfrm"><div class="row"> <div class="twelve columns"><br><br><p class="drop-ip"><table width=500 class="normal"> <tr> <td width="220"class="body"> <b><font tid="779"></font></b><br><br> </td> <td nowrap class="body"> <input type="radio"name="wifi_ap_en"value="1"onClick="itemSelectDns()"><font tid="374"></font>&nbsp;&nbsp; <input type="radio"name="wifi_ap_en"value="0"onClick="itemSelectDns()"><font tid="375"></font> <br><br></td> </tr> <tr id="apt_ip"style="display:none;"> <td width="220"class="body"> <b><font tid="780"></font></b> </td> <td class="drop-ip"> <input class="input-text xsmall"maxLength="3"name="ap_ip"size="3"value="">. <input class="input-text xsmall"maxLength="3"name="ap_ip"size="3"value="">. <input class="input-text xsmall"maxLength="3"name="ap_ip"size="3"value="">. <input class="input-text xsmall"maxLength="3"name="ap_ip"size="3"value=""> </td> </tr> <tr id="apt_mask"style="display:none;"> <td width="220"class="body"> <b><font tid="372"></font> </td> <td class="drop-ip"> <input class="input-text xsmall"maxLength="3"name="ap_msk"size="3"value="">. <input class="input-text xsmall"maxLength="3"name="ap_msk"size="3"value="">. <input class="input-text xsmall"maxLength="3"name="ap_msk"size="3"value="">. <input class="input-text xsmall"maxLength="3"name="ap_msk"size="3"value=""> </td> </tr> <tr> </table></p></div></div><br><a href="#save"class="nice radius large green button"tid="49"onClick="return evaltF()"id="btnapply"></a></form></div><div class="sidebar four columns"> <div><h6><span tid="htAP"></span></h6> <p><span tid="htAPContent"></span><span class="nub"></span></p> </div> </div></div> </div><script>/*JS_PACKER*/function isValid_LAN_IP_Range(ips){var ip=ips.split(".");if(ip.length!=4)return false;for(var i=0;i<4;i++){ip[i]=parseInt(ip[i],10);}
if(ip[0]==10)return true;if(ip[0]==172&&(ip[1]>15&&ip[1]<32))
return true;if(ip[0]==192&&ip[1]==168)return true;return false;}
function ipcheck(ips,msks){var ip=ips.split(".");var msk=msks.split(".");for(var i=0;i<4;i++){ip[i]=parseInt(ip[i],10);msk[i]=parseInt(msk[i],10);}
if(ip[0]<128){msk[1]=mks[2]=msk[3]=0;}
if((ip[0]<192)&&(ip[0]>127)){msk[1]=255;mks[2]=msk[3]=0;}
if((ip[0]<240)&&(ip[0]>191)){msk[1]=msk[2]=255;msk[3]=0;}
return msk.join(".");}
function evaltF(){var f=document.tF;var old_mod=(1-getCfgInt("rt_en"));var new_mod=getFieldIntVal(f.wifi_ap_en);var NewIP=combinIP2(f.ap_ip);var ap_msk=combinIP2(f.ap_msk);var ip=[f.ap_ip[0].value,f.ap_ip[1].value,f.ap_ip[2].value,f.ap_ip[3].value];var OldIP=getCfg("lan_ip");if(old_mod==1){OldIP=getCfg("ap_ip");}
if(!new_mod){NewIP=getCfg("lan_ip");if(old_mod==0){JumpTo(cPage);return false;}}else{if(isValidIP(NewIP)==false){AlertM(1240);f.ap_ip[0].focus();return false;}
if(isValid_LAN_IP_Range(NewIP)==false){AlertM(1240);f.ap_ip[0].focus();return false;}
if(!(isBlank_Zero(ip[0]))||!(isBlank_Zero(ip[1]))||!(isBlank_Zero(ip[2]))||!(isBlank_Zero(ip[3]))){if(isNValidIP(ip[0])||isNValidIP(ip[1])||isNValidIP(ip[2])||isNValidLastIP(ip[3])){AlertM(1240);f.ap_ip[0].focus();return false;}}
var msk=[f.ap_msk[0].value,f.ap_msk[1].value,f.ap_msk[2].value,f.ap_msk[3].value];if((rc=isNValidSubnetMask(f.ap_msk))){AlertM(766);f.ap_msk[rc-1].focus();return false;}
wan_msk=getCfgIP("wan_msk");if((ip[0]&255)==wan_msk[0]){if((ip[1]&255)==wan_msk[1]){if((ip[0]&255)==wan_msk[2]){AlertM(766);f.ap_ip[0].focus();return false;}}}}
if(OldIP!=NewIP){if(!ConfirmM(406)){return false;}
AlertM(404);}
form2Cfg(f);if(new_mod==1){if(old_mod==0){setCfg("back_lan_ap_ip",getCfg("lan_ip"));setCfg("back_lan_ap_msk",getCfg("lan_mask"));setCfg("lan_ip",getCfg("ap_ip"));setCfg("lan_mask",getCfg("ap_msk"));}else{setCfg("lan_ip",getCfg("ap_ip"));setCfg("lan_mask",getCfg("ap_msk"));}}else{if(old_mod==1){setCfg("lan_ip",getCfg("back_lan_ap_ip"));setCfg("lan_mask",getCfg("back_lan_ap_msk"));}}
setCfg("rt_en",1-new_mod);if(OldIP!=NewIP){top.G_IP=NewIP;top.G_URL="http://"+NewIP+"/index.htm";setCfg("lan_chg","1");}
if(new_mod)
setCfg("dhcp_enable","0");else
setCfg("dhcp_enable","1");return subForm({frm:f,next:"index.htm",cmd:"AP_CONF,SYS_BOOT",wait:80});}
function itemSelectDns(){var f=document.tF;var en=getFieldValue(f.wifi_ap_en);if(en=="1"){DisplayObject('apt_ip');DisplayObject('apt_mask');}else{HiddenObject('apt_ip');HiddenObject('apt_mask');}}
function init(){var f=document.tF;cfg2Form(f);var mod=1-getCfgInt("rt_en");SetFieldValue(f.wifi_ap_en,mod);itemSelectDns();ShowNavMenu();}
/*END_JS_PACKER*/<%CGI_LOGIN_KEEP();%></script> <script><%CGI_INCLUDE(javascripts/main_footer.js);%></script>