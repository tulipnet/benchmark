<!DOCTYPE html><!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"lang="en"> <![endif]--><!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"lang="en"> <![endif]--><!--[if IE 8]> <html class="no-js lt-ie9"lang="en"> <![endif]--><!--[if gt IE 8]><!--><html lang="en"class="gt-ie8"><!--<![endif]--><!--[if IE]><html xmlns="http://www.w3.org/1999/xhtml"xmlns:v><![endif]--><head><meta charset="utf-8"/><meta name="viewport"content="width=device-width"/><title></title> <link rel="icon"href="images/favicon/favicon.ico"><link rel="apple-touch-icon-precomposed"sizes="144x144"href="images/favicon/belkin_144.png"><link rel="apple-touch-icon-precomposed"sizes="114x114"href="images/favicon/belkin_114.png"><link rel="apple-touch-icon-precomposed"sizes="72x72"href="images/favicon/belkin_72.png"><link rel="apple-touch-icon-precomposed"href="images/favicon/belkin_57.png"><link rel="stylesheet"href="stylesheets/app.css?t=20140212"><!--[if lt IE 9]><link rel="stylesheet"href="stylesheets/ie.css"><![endif]--><!--[if IE]><?import namespace="v"implementation="#default#VML"?><![endif]--><script>var LangJ=["menulist","comm","wifi_id","400err","wifi","wifi_wep"];var CGIs=["wifi"];</script><script src="javascripts/init.js"></script><script src="javascripts/jquery.min.js"></script><script src="javascripts/jQueryRotateCompressed.2.2.js"></script><script src="javascripts/global.js"></script><script src="javascripts/app.js"></script><script src="javascripts/menu.js"></script></head><body style="display:none"id="mainbody"> <script><%CGI_INCLUDE(javascripts/main_header.js);%></script><script src="javascripts/routine.js"></script><script src="javascripts/wlan.js"></script><div class="main container"id="p2500"> <div class="row page-title hide-on-phones"> <h3 tid="gtWirelessSettings"></h3> </div> <div class="row"> <div class="eight columns"> <form name="p2500f001"id="p2500f001"class="nice"> <div class="row"> <div id="p2500f24G"class="six columns"><h4 tid="gt24GHzNetwork"></h4><p id="p2500i002"class="hide-on-phones"> <span style="visibility:hidden"> <label><input type="checkbox"name="accept"class="five-g"/><span tid="p2500t002"></span></label> </span> </p> <p> <label for="p2500f24SSID"><strong tid="gtNetworkName"></strong></label><input type="text"class="large fluid input-text"id="p2500f24SSID"name="wifi_ssid"tid="Network24SSID"maxlength="31"><small class="error"id="p2500e24SSID"style="display:none;"></small> </p> <p> <label for="p2500f24PSK"><strong tid="gtPass"></strong></label> <input type="text"class="large fluid input-text"id="p2500f24PSK"name="wl_key"tid="Network24Passkey"maxlength="63"><small class="error"id="p2500e24PSK"style="display:none;"></small> </p> <p> <label for="p2500f24Security"tid="gtSecurityType"></label> <select id="p2500f24Security"name="wl_sec"> <option value="2"tid="gtWPA2"></option> <option value="3"tid="gtWPA2WPA"></option> <option value="1"tid="gtWEP"></option> <option value="0"tid="gtOpenNoPass"></option> </select> </p> <p> <a href="#"id="Adv24_toggle"><img class="expando"id="expandoArrow24"src="images/expando.png"alt="Toggle Show/Hide"><span class="expando"tid="gtAdvOptions"></span></a> </p> <div id="AdvOpt24"style="display:none;"> <p><label for="p2500f24Enable"tid="p2500t001"></label> <input type="hidden"name="wifi_en"id="p2500f24EnableVal"value="1"> <a class="wifiToggle"id="p2500f24Enable"> <span id="p2500f24EnableOff"style="display:none;"><img src="../images/btn-Blocked_x.png"><span tid="gtOff"></span></span> <span id="p2500f24EnableOn"><img src="../images/btn-Blocked.png"><span tid="gtOn"></span></span> </a> </p> <p> <label for="p2500f24Chan"tid="788"></label><select id="p2500f24Chan"name="wchan"> <option value=0 tid="gtAuto"></option> </select> </p> <p> <label for="p2500f24BW"tid="gtBandwidth"></label> <select id="p2500f24BW"name="bandwidth"> <option value=0 tid="gt20MHz"></option> <option selected value=1 tid="gt2040MHz"></option> </select> </p> <p> <label for="p2500f24Ext"tid="gtExtChan"></label><select id="p2500f24Ext"name="ex_wchan"disabled> </select> </p> <p> <label for="p2500f24Mode"tid="gtWirelessMode"></label><select id="p2500f24Mode"name="wbr"><option value="9"tid="gtModeN+G+B"></option> <option value="gn"tid="gtModeN+G"></option> <option value="6"tid="gtModeOnlyN"></option> <option value="0"tid="gtModeG+B"></option> <option value="4"tid="gtModeOnlyG"></option> <option value="1"tid="gtModeOnlyB"></option> </select> </p> <p> <small class="warning"id="p2500f24ModeWarning"tid="p2500t004"style="display:none;"></small> </p> <p> <label for="p2500f24Broadcast"><input id="p2500f24Broadcast"name="wifi_ssidbcst"value="1"type="checkbox"><span tid="gtBroadcastSSID"></span></label> </p> </div> </div> <hr class="show-on-phones"> <div id="p2500f5G"class="six columns"><h4 tid="gt5GHzNetwork"></h4> <p> <label><input id="p2500fSame"name="same"type="checkbox"value="1"class="five-g"/><span tid="p2500t002"></span></label> </p><p> <label for="p2500f5SSID"><strong tid="gtNetworkName"></strong></label> <input type="text"class="large fluid input-text"id="p2500f5SSID"name="wifi_ssid1"tid="Network5SSID"maxlength="31"><small class="error"id="p2500e5SSID"style="display:none;"></small> </p> <p> <label for="p2500f5PSK"><strong tid="gtPass"></strong></label> <input type="text"class="large fluid input-text"id="p2500f5PSK"name="wl_key1"tid="Network5Passkey"maxlength="63"><small class="error fluid"id="p2500e5PSK"style="display:none;"></small> </p> <p> <label for="p2500f5Security"tid="gtSecurityType"></label><select id="p2500f5Security"name="wl_sec1"> <option value="2"tid="gtWPA2"></option> <option value="3"tid="gtWPA2WPA"></option> <option value="1"tid="gtWEP"></option> <option value="0"tid="gtOpenNoPass"></option> </select> </p> <p> <a class="visible-on-phones"href="#"id="Adv5_toggle"><img class="expando"id="expandoArrow5"src="/images/expando.png"alt="Expand"><span class="expando"tid="gtAdvOptions"></span></a> </p> <div id="AdvOpt5"style="display:none;"> <p><label for="p2500f5Enable"tid="p2500t003"></label> <input type="hidden"name="wifi_en1"id="p2500f5EnableVal"value="1"> <a class="wifiToggle"id="p2500f5Enable"> <span id="p2500f5EnableOff"style="display:none;"><img src="../images/btn-Blocked_x.png"><span tid="gtOff"></span></span> <span id="p2500f5EnableOn"><img src="../images/btn-Blocked.png"><span tid="gtOn"></span></span> </a> </p> <p> <label for="p2500f5Chan"tid="788"></label><select id="p2500f5Chan"name="wchan1"> <option value=0 tid="gtAuto"></option> </select> </p> <p> <label for="p2500f5BW"tid="gtBandwidth"></label> <select id="p2500f5BW"name="bandwidth1"> <option value="1"tid="gt2040MHz"></option> <option value="0"tid="gt20MHz"></option> </select> </p> <p> <label for="p2500f5Ext"tid="gtExtChan"></label><select id="p2500f5Ext"name="ex_wchan1"disabled> </select> </p> <p> <label for="p2500f5Mode"tid="gtWirelessMode"></label><select id="p2500f5Mode"name="wbr1"> <option value="8"tid="gtModeN+A"></option> <option value="11"tid="gtModeOnlyN"></option> <option value="2"tid="gtModeOnlyA"></option> </select> </p> <p> <small class="warning"id="p2500f5ModeWarning"tid="p2500t004"style="display:none;"></small> </p> <p> <label for="p2500f5Broadcast"><input id="p2500f5Broadcast"name="wifi_ssidbcst1"value="1"type="checkbox"><span tid="gtBroadcastSSID"></span></label></p> </div> </div> </div> <a class="nice radius large green button"id="p2500aSave"><span tid="gtSave"></span></a> </form> </div><div class="four columns sidebar2"> <div><h6 tid="htWirelessDB"></h6> <p> <span tid="htWirelessContentDB"></span><span class="nub"></span> </p> <h6 tid="htWirelessSecType"></h6> <p> <span tid="htWirelessSecTypeContent"></span><span class="nub"></span> </p><h6 tid="htWirelessRadio"></h6> <p> <span tid="htWirelessRadioContent"></span><span class="nub"></span> </p> </div> </div></div></div><div id="p2505"class="large reveal-modal"style="display:none;"> <h1 tid="p2505t001"></h1> <p class="lead"><span tid="p2505t002"></span></p> <br> <a href="#"class="nice radius button green large"tid="p2505t003"id="p2505a003"></a> <a href="#"class="nice radius button white large"tid="gtCancel"id="p2505a004"></a></div><div id="p2510"class="large reveal-modal"style="display:none;"> <h1 tid="p2510t001"></h1> <p class="lead"><span tid="p2510t002"></span></p> <br> <a href="javascript:void();"class="nice radius button green large"tid="p2510t003"id="p2510a003"></a> <a href="javascript:void();"class="nice radius button white large"tid="gtCancel"id="p2510a004"></a></div><script>/*JS_PACKER*/var mod2ui=[0,1,1,-1,2,3,-1,-1,-1];function pre_init(){addModalPage("GUI_p2505",$("#p2505").html(),function(){$("#p2505").html("");$("#p2505a003").click(function(){CloseModalURL();return saveForm();});$("#p2505a004").click(function(){return CloseModalURL();});});addModalPage("GUI_p2510",$("#p2510").html(),function(){$("#p2510").html("");});}
function displaySettings(idPrefix,net){$(idPrefix+"SSID").val(net.SSID);$(idPrefix+"PSK").val(net.Passkey);if($(idPrefix+"Security option[value='"+net.Auth+"']").length>0)
{$(idPrefix+"Security option[value='"+net.Auth+"']").prop('selected',true);}else{$(idPrefix+"Security option[value='"+net.Encryption+"'").prop('selected',true);}
if(!net.Enabled){$(idPrefix+"EnableOff").show();$(idPrefix+"EnableOn").hide();}
$(idPrefix+"EnableVal").val(net.Enabled==true);$(idPrefix+"Chan option[value=\""+net.Channel+"\"]").prop('selected',true);if(net.Channel==0||net.Bandwidth==0){$(idPrefix+"Ext").prop('disabled',true);}else{$(idPrefix+"Ext").prop('disabled',false);}
$(idPrefix+"Broadcast").attr('checked',net.BroadcastSSIDEnabled?true:false);$(idPrefix+"Ext option[value=\""+net.ExtensionChannel+"\"]").prop('selected',true);$(idPrefix+"BW option[value=\""+net.Bandwidth+"\"]").prop('selected',true);$(idPrefix+"Mode option[value=\""+net.WirelessMode+"\"]").prop('selected',true);setBW((idPrefix+"Mode").slice(1),net.WirelessMode);}
function excludesN(modeVal)
{if(modeVal!=6&&modeVal!=9&&modeVal!=8&&modeVal!=11)
{return true;}
return false;}
function isNOnly(modeVal)
{if(modeVal=='6'||modeVal=='11')
{return true;}
return false;}
function setPSKVisible(secID){var newMode;var modeID=secID.indexOf("f24")>=0?"#p2500f24Mode":"#p2500f5Mode";var modeIDBW=secID.indexOf("f24")>=0?"p2500f24Mode":"p2500f5Mode";var PSKid=secID.indexOf("f24")>=0?"#p2500f24PSK":"#p2500f5PSK";if($("#"+secID).val()==0){$(PSKid).css("visibility","hidden");}else{$(PSKid).css("visibility","visible");}
if($("#"+secID).val()=="1"){if(!excludesN($(modeID).val())){newMode=secID.indexOf("f24")>=0?"4":"2";$(modeID).val(newMode);setBW(modeID.slice(1),newMode);}}else if($("#"+secID).val()=="2"){newMode=secID.indexOf("f24")>=0?"6":"11";$(modeID).val(newMode);setBW(modeID.slice(1),newMode);}else if($("#"+secID).val()=="3"&&isNOnly($(modeID).val())){newMode=secID.indexOf("f24")>=0?"9":"8";$(modeID).val(newMode);setBW(modeID.slice(1),newMode);}else if($("#"+secID).val()!="1"&&excludesN($(modeID).val())){newMode=secID.indexOf("f24")>=0?"9":"8";$(modeID).val(newMode);setBW(modeID.slice(1),newMode);}
$(modeID).data("previous-value",$(modeID).val());}
var origCheckbox={};function copyVal(){if(!$('#p2500fSame').attr('checked'))
return;var idOther=this.id.indexOf("f24")>=0?this.id.replace("f24","f5"):this.id.replace("f5","f24");$("#"+idOther).val($(this).val());if(this.id.indexOf("Security")<0)
return;var secID="p2500f5Security",secIDOther="p2500f24Security";if(this.id.indexOf("24")>=0){secID="p2500f24Security";secIDOther="p2500f5Security";}
setPSKVisible(secID);setPSKVisible(secIDOther);change_Mode(0);change_Mode(1);}
function validateSSID(){var v;HidealertM("#p2500e24SSID");if((v=$('#p2500f24SSID').val())==""){ShowalertM("#p2500e24SSID","errorSSIDEmpty");}else if(isNVaidSSIDChar(v)){ShowalertM("#p2500e24SSID","errorSSIDInvalidChars");}
HidealertM("#p2500e5SSID");if((v=$('#p2500f5SSID').val())==""){ShowalertM("#p2500e5SSID","errorSSIDEmpty");}else if(isNVaidSSIDChar(v)){ShowalertM("#p2500e5SSID","errorSSIDInvalidChars");}}
function validatePSK_single(idPrefix,errPrefix){errId=errPrefix+"PSK";HidealertM(errId);var sec=parseInt($(idPrefix+'Security').val());var psk=$(idPrefix+'PSK').val();switch(sec){case 0:break;case 1:if(psk.length==0){ShowalertM(errId,"errorWEPPasswordEmpty");}else if((psk.length!=10)&&(psk.length!=26)){ShowalertM(errId,"errorWEPPasswordInvalidLength");}else if(!isHex(psk)){ShowalertM(errId,"errorWEPPasswordInvalidChars");}
break;case 3:case 2:if(psk.length==0){ShowalertM(errId,"errorWPAPasswordEmpty");}else
if((psk.length==64)&&!isHex(psk)){ShowalertM(errId,"errorWPAPasswordInvalidChars");}else{if((psk.length!=64)&&((psk.length<8)||(psk.length>63))){ShowalertM(errId,"errorWPAPasswordInvalidLength");}else
if(isNVaidWPAChar(psk)){ShowalertM(errId,"errorWPAPasswordInvalidChars");}}
break;}}
function validatePSK(){validatePSK_single("#p2500f24","#p2500e24");validatePSK_single("#p2500f5","#p2500e5");}
function change_Mode(idx){var f=document.p2500f001;var k=(idx==1)?'1':'';var sec='wl_sec$d';var key='wl_key$d';var wepkeyv='wifi_wep_key$d1';var wpakeyv='wifi_wpa_key$d1';sec=sec.replace('$d',k);key=key.replace('$d',k);wepkeyv=wepkeyv.replace('$d',k);wpakeyv=wpakeyv.replace('$d',k);var v=getFieldIntVal(f.elements[sec]);var ob=f.elements[key]
HidealertM("#p2500e24PSK");HidealertM("#p2500e5PSK");switch(v){case 0:ReadOnly(ob);SetFieldValue(ob,'');break;case 1:WriteAllow(ob);fromCfg(ob,wepkeyv);break;case 2:case 3:WriteAllow(ob);fromCfg(ob,wpakeyv);break;}}
function testForNSpeedWarning(){if(excludesN($('#p2500f24Mode').val())){ShowalertM("#p2500f24ModeWarning");}else{HidealertM("#p2500f24ModeWarning");}
if(excludesN($('#p2500f5Mode').val())){ShowalertM("#p2500f5ModeWarning");}else{HidealertM("#p2500f5ModeWarning");}}
var originalSettings;var orig24,orig5;function init(){var f=document.p2500f001;$('#p2500f24SSID,#p2500f5SSID,#p2500f24PSK,#p2500f5PSK,#p2500f24Security,#p2500f5Security').bind("change keyup input",copyVal);$('#p2500f24Enable,#p2500f5Enable').click(function(){var enValID="#"+this.id+"Val";var enVal=$(enValID).val();if(access_from==3){if((enVal==1)&&(f.wifi_en.value==0||f.wifi_en1.value==0))
return false;}
var ids="#"+this.id+"On,#"+this.id+"Off";$(ids).toggle();$(enValID).val((enVal=="1")?0:1);});$('#p2500f24Security,#p2500f5Security').bind("change",function(){var k=(/f24/.test(this.id)?'':'1');if((getCfg("wps_en"+k)==1)&&($(this).val()==1)){AlertM(1339);}
setPSKVisible(this.id);change_Mode(k);$(this).data("previous-value",$(this).val());});$('#p2500fSame').click(function(){if($(this).is(':checked')){$('#p2500f5SSID').val($('#p2500f24SSID').val());$('#p2500f5PSK').val($('#p2500f24PSK').val());$('#p2500f5Security').val($('#p2500f24Security').val());validateSSID();validatePSK();setPSKVisible("p2500f5Security");}else{for(var elemId in origCheckbox){$("#"+elemId).val(origCheckbox[elemId]);}
setPSKVisible("p2500f5Security");setPSKVisible("p2500f24Security");}});$('#p2500f24BW,#p2500f5BW').bind("change",function(){testForExt("#"+this.id.slice(0,-2));});$('#p2500f24Mode,#p2500f5Mode').bind("change",function(){var previousValue=$(this).data("previous-value");var secID=this.id.indexOf("f24")>=0?"#p2500f24Security":"#p2500f5Security";if($(secID).val()!="0"&&(($(secID).val()=="1"&&excludesN($(this).val()))||($(secID).val()!="2"&&isNOnly($(this).val()))||($(secID).val()=="2"&&!isNOnly($(this).val()))))
{$('#p2510').data('newSecMode',"3");$('[tid=gtNewWifiSecurity]').html("WPA/WPA2");if(isNOnly($(this).val())){$('[tid=gtNewWifiSecurity]').html("WPA2");$('#p2510').data('newSecMode',"2");}
$('#p2510').data('modeID',this.id);$('#p2510').data('secID',secID);$('#p2510').data('prevModeVal',previousValue);$('#p2510').data('modeVal',$(this).val());ShowModalInfo("GUI_p2510");}else{setBW(this.id,$(this).val());$("#"+this.id).data("previous-value",$(this).val());}});$('#p2510a003').click(function(){CloseModalURL();$($('#p2510').data('secID')).data("previous-value",$('#p2510').data('newSecMode'));$($('#p2510').data('secID')).attr("value",$('#p2510').data('newSecMode'));setBW($('#p2510').data('modeID'),$('#p2510').data('modeVal'));$("#"+$('#p2510').data('modeID')).data("previous-value",$('#p2510').data('modeVal'));copyVal.call($($('#p2510').data('secID')).get(0));});$('#p2510a004').click(function(){CloseModalURL();$("#"+$('#p2510').data('modeID')).attr("value",$('#p2510').data('prevModeVal')).change();setBW($('#p2510').data('modeID'),$('#p2510').data('prevModeVal'));$("#"+$('#p2510').data('modeID')).data("previous-value",$('#p2510').data('prevModeVal'));});$('#p2500f24Chan,#p2500f5Chan').bind("change",function(){setExt(this.id,$(this).val());});$('#Adv24_toggle').click(function(){if($('#AdvOpt24').is(":hidden")){$('#expandoArrow24').rotate({animateTo:90,duration:600});$('#AdvOpt24').slideDown();SetCookie("wifi24Aexp",'1');if($('#AdvOpt5').is(":hidden")&&!$('#p2500i002').is(":hidden"))
$('#Adv5_toggle').click();}else{$('#expandoArrow24').rotate({animateTo:0,duration:600});$('#AdvOpt24').slideUp();SetCookie("wifi24Aexp",'0');if(!$('#AdvOpt5').is(":hidden")&&!$('#p2500i002').is(":hidden"))
$('#Adv5_toggle').click();}
testForNSpeedWarning()});$('#Adv5_toggle').click(function(){if($('#AdvOpt5').is(":hidden")){$('#expandoArrow5').rotate({animateTo:90,duration:600});$('#AdvOpt5').slideDown();SetCookie("wifi5Aexp",'1');}else{$('#expandoArrow5').rotate({animateTo:0,duration:600});$('#AdvOpt5').slideUp();SetCookie("wifi5Aexp",'0');}
testForNSpeedWarning()});if(GetCookie("wifi24Aexp")=='1'){$('#AdvOpt24').show();if(isDisplayObject('p2500i002'))
$('#AdvOpt5').show();}
if(!isDisplayObject('p2500i002')&&GetCookie("wifi5Aexp")=='1'){$('#AdvOpt5').show();}
var obj,opt;var modeid=['p2500f24Mode','p2500f5Mode'];for(var i=0;i<=WIFI_BAND;i++){idx=((i==0)?"":i);var rate_list=DUAL_MODE[i][DUAL_WL_RATE].split(",");obj=f.elements['wbr'+idx];opt=$('option',obj);opt.each(function(i){for(var x in rate_list){if(!rate_list[x])continue;if(this.value==rate_list[x])return true;}
$(this).remove();});var chan_list=get_wifi_chan_list(i);obj=f.elements['wchan'+idx];for(var x in chan_list){if(chan_list[x].key==0)continue;obj.options[obj.options.length]=new Option(chan_list[x].desc,chan_list[x].key);}
SetFieldValue(obj,get_wifi_channel(i));obj=f.elements["wbr"+idx];SetFieldValue(obj,get_wifi_baserate(i));SetFieldValue(f.elements['wl_sec'+idx],mod2ui[get_wifi_authcfg(i)]);change_Mode(i);obj=f.elements["wifi_ssidbcst"+idx];SetFieldValue(obj,get_wifi_ssidbcst(i));var is2040mix=getCfg("bandwidth"+idx);SetFieldValue(f.elements['bandwidth'+idx],is2040mix);setBW(modeid[i],get_wifi_baserate(i));if(is2040mix&&get_wifi_channel(i)){obj=f.elements["ex_wchan"+idx];SetFieldValue(obj,getCfg("wifi_ex_wchan"+idx));}}
cfg2Form(f);$("#p2500f5SSID,#p2500f5PSK,#p2500f5Security").each(function(){origCheckbox[this.id]=$(this).val();});originalSettings=$("#p2500f001").serialize();orig24=readNetwork("#p2500f24");orig5=readNetwork("#p2500f5");$(window).bind('beforeunload',function(){var isChanged=originalSettings!=$("#p2500f001").serialize();if(isChanged){return getLangM('gtSettingsNotSaved');}else{return;}});$("#p2500aSave").click(function(){validateSSID();validatePSK();if($(".error").filter(":visible").length!=0)
return false;if(!checkWPS())return false;var net24=readNetwork("#p2500f24");var net5=readNetwork("#p2500f5");if((!net24.Enabled&&orig24.Enabled)||(!net5.Enabled&&orig5.Enabled)){return ShowModalInfo("GUI_p2505");}else{return saveForm();}});$('#p2500f24Enable,#p2500f5Enable').each(function(){var enValID="#"+this.id+"Val";if($(enValID).val()!='1'){DisplayObject(this.id+'Off');HiddenObject(this.id+'On');}});ShowNavMenu();if(isDisplayObject('AdvOpt24')){$('#expandoArrow24').rotate({animateTo:90,duration:1});}
if(isDisplayObject('AdvOpt5')){$('#expandoArrow5').rotate({animateTo:90,duration:1});}}
var BWVal1Obj=[];function setBW(id,newMode){var idPrefix="#"+id.slice(0,-4);var ob=$(idPrefix+"BW");if(!BWVal1Obj[idPrefix])BWVal1Obj[idPrefix]=$("[value=1]",ob);if(excludesN(newMode)){BWVal1Obj[idPrefix].remove();ob.val(0);$('#'+id+"Warning").slideDown();}else{BWVal1Obj[idPrefix].appendTo(ob);$('#'+id+"Warning").slideUp();}
testForExt(idPrefix);}
function testForExt(idPrefix){setExt(idPrefix+"Chan",$(idPrefix+"Chan").val())}
var chan_list0=get_wifi_chan_list(0);function setExt(id,newChan){var idPrefix="#"+id.slice(0,-4);var idx=idPrefix.indexOf('f24')>0?0:1;var f=document.p2500f001;var k=(idx==0)?'':idx;var obj;var cont_ch=parseInt(newChan,10);var is5G=((DUAL_MODE[idx][DUAL_WL_BAND]==1)?1:0);var is2040mix=f.elements['bandwidth'+k].value;obj=f.elements['ex_wchan'+k];var curchan=getCfg("wifi_curchan"+k);var chaninfo_ary=curchan.split(";");if(chaninfo_ary[0]==0)
chaninfo_ary[0]=1;curchan=cont_ch==0?parseInt(chaninfo_ary[0],10):cont_ch;if(is2040mix==1){if(cont_ch==0)
ReadOnly(obj);else
WriteAllow(obj);}else{ReadOnly(obj);}
if(!is5G){if(chan_list0[chan_list0.length-1].key-curchan<4){obj.options[0]=new Option(curchan-4,curchan-4);obj.options.length=1;}else if(curchan-chan_list0[1].key<4){obj.options[0]=new Option(curchan+4,curchan+4);obj.options.length=1;}else{obj.options[0]=new Option(curchan-4,curchan-4);obj.options[1]=new Option(curchan+4,curchan+4);obj.options.length=2;}}else{obj.options.length=0;var ext_ch=40;var ext_ch_tb={36:"40",40:"36",44:"48",48:"44",52:"56",56:"52",60:"64",64:"60",100:"104",104:"100",108:"112",112:"108",116:"120",120:"116",124:"128",128:"124",132:"136",136:"132",140:"136",149:"153",153:"149",157:"161",161:"157",165:"161"};if(ext_ch_tb[curchan])ext_ch=ext_ch_tb[curchan];obj.options[0]=new Option(ext_ch,ext_ch,true,true);}};function readNetwork(idPrefix){var sec=$(idPrefix+'Security').val();var netObj={"Passkey":$(idPrefix+'PSK').val(),"SSID":$(idPrefix+'SSID').val(),"Auth":sec,"Encryption":sec,"Channel":$(idPrefix+"Chan option").val(),"ExtensionChannel":$(idPrefix+"Ext option").val(),"Bandwidth":$(idPrefix+"BW option").val(),"WirelessMode":$(idPrefix+"Mode option").val(),"Enabled":($(idPrefix+"EnableVal").val()==1)}
if(sec==2)
netObj.Encryption="AES";if(sec==3)
netObj.Encryption="AES";if(sec==1)
netObj.Auth=0;return netObj;}
function saveForm(){var f=document.p2500f001;var obj,k,v,ch;var do_action='';originalSettings=$("#p2500f001").serialize();for(var i=0;i<=WIFI_BAND;i++){k=((i==0)?"":i);v=getFieldValue(f.elements["wbr"+k]);set_wifi_baserate(i,v);v=getFieldValue(f.elements["wchan"+k]);set_wifi_channel(i,v);v=getFieldValue(f.elements["ex_wchan"+k]);set_wifi_extchannel(i,v);obj=(f.elements["ex_wchan"+k]);if(parseInt(v,10)!=0)
setCfg("wifi_40mch"+k,obj.options[obj.selectedIndex].text);v=getFieldIntVal(f.elements["wifi_ssidbcst"+k]);set_wifi_ssidbcst(i,v);var mod=getFieldIntVal(f.elements['wl_sec'+k]);v=getFieldValue(f.elements['wl_key'+k]);set_wifi_authcfg(i,mod,v);if(chkCfg("wifi_ssid"+k)){do_action=",WIFI_SSID";}}
form2Cfg(f);return subForm({frm:f,cmd:'WIFI_CONF'+do_action+',SYS_BOOT',wait:60});}
function checkWPS(){var f=document.p2500f001;var wsc_version2="enabled";var k,need_check,ret;for(var i=0;i<=WIFI_BAND;i++){k=((i==0)?"":i);if(f.elements["wifi_ssidbcst"+k].checked==false&&getCfg("wps_en"+k)==1){if(!ConfirmM('wpshssid1')){f.elements["wifi_ssidbcst"+k].checked=true;return false;}
setCfg("wps_en"+k,'0');}
if(getCfg("wps_en"+k)==1&&wsc_version2=="enabled"){var mod=getFieldIntVal(f.elements['wl_sec'+k]);switch(mod){case 0:ret=ConfirmM("wpsnone1");need_check=1;break;case 1:ret=ConfirmM("wpswep1");need_check=1;break;}
if(need_check==1&&!ret){SetFieldValue(f.elements['wl_sec'+k],mod2ui[get_wifi_authcfg(i)]);change_Mode(i);return false;}}}
return true;}
/*END_JS_PACKER*/<%CGI_LOGIN_KEEP();%></script><!--#include virtual="dashincludes/_footer.htm"--> <script><%CGI_INCLUDE(javascripts/main_footer.js);%></script>