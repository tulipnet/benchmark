<div id="p211"class="large reveal-modal"> <h1><span tid="p211t001"></span>&hellip;</h1> <p class="waiting"><img width="28"src="images/loading.gif"alt="Loading"><span tid="p211t002"></span></p></div><script>/*JS_PACKER*/var flow_try=0;var icc_trying=0;function detect_WAN(flag){var CUR_CLK=new Date();if(flag){G_CLK_S=new Date();icc_trying=0;}
G_CLK_WAIT=Math.floor((CUR_CLK-G_CLK_S)/1000);getWANConnectST(function(st,wanst){dev_debug("detect_WAN st:"+st+' ses:'+wanst.session+' time:'+G_CLK_WAIT);if(st==WAN_ST_CABLE_ERR){st=WAN_ST_ICC_ERR;icc_trying=11;}
if(st==WAN_ST_CONNECTED){return jump_300();}
if((st==WAN_ST_ICC_ERR)||(st==WAN_ST_DNS_ERR)){if(icc_trying==0){G_CLK_S=new Date();CUR_CLK=new Date();G_CLK_WAIT=0;}
if(icc_trying++>10)
{dev_debug("ICC fail after "+G_CLK_WAIT);return ISPJump("ISP3.htm");}}
if(st==WAN_ST_DNS_NULL){dev_debug("DNS empty fail after "+G_CLK_WAIT);return ISPJump("ISP3.htm");}
var no_serv=0;if((G_CLK_WAIT>PPPOE_NO_PADO_WAIT)&&((wanst.session<PPPOE_PADO_CODE)||(wanst.trylink>PPPOE_NO_PADO_WAIT))){no_serv=1;dev_debug("PADO fail after "+G_CLK_WAIT);G_CLK_WAIT=PPPOE_DETECT_TIME+2;}
if(G_CLK_WAIT>PPPOE_DETECT_TIME){if(flow_try++!=0){dev_debug("ISP detect over: "+G_CLK_WAIT);return ISPJump("ISP4.htm");}
return show_212(no_serv);}
setTimeout("detect_WAN(0)",2*1000);},function(){setTimeout("detect_WAN(0)",2*1000);});}
/*END_JS_PACKER*/</script>